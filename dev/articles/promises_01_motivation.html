<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Why use promises? • promises</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Why use promises?">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">promises</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.3.3.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><h6 class="dropdown-header" data-toc-skip>Overview</h6></li>
    <li><a class="dropdown-item" href="../articles/promises_01_motivation.html">1. Why use promises?</a></li>
    <li><a class="dropdown-item" href="../articles/promises_02_intro.html">2. An informal intro to async programming</a></li>
    <li><a class="dropdown-item" href="../articles/promises_03_overview.html">3. Working with promises</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Integration</h6></li>
    <li><a class="dropdown-item" href="../articles/promises_04_mirai.html">4. Launching tasks with mirai</a></li>
    <li><a class="dropdown-item" href="../articles/promises_05a_futures.html">5a. Launching tasks with future</a></li>
    <li><a class="dropdown-item" href="../articles/promises_05b_future_promise.html">5b. Advanced future and promises usage</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Usage</h6></li>
    <li><a class="dropdown-item" href="../articles/promises_06_shiny.html">6. Using promises with Shiny</a></li>
    <li><a class="dropdown-item" href="../articles/promises_07_combining.html">7. Combining promises</a></li>
    <li><a class="dropdown-item" href="../articles/promises_08_casestudy.html">8. Case study: Converting a Shiny app to async</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rstudio/promises/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Why use promises?</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/promises/blob/main/vignettes/promises_01_motivation.Rmd" class="external-link"><code>vignettes/promises_01_motivation.Rmd</code></a></small>
      <div class="d-none name"><code>promises_01_motivation.Rmd</code></div>
    </div>

    
    
<p>The <code>promises</code> library is designed to make it possible for
R users to integrate <em>asynchronous programming</em> techniques into
their code. It is intended to improve the scalability of certain classes
of Shiny applications, and can also be used completely separately from
Shiny.</p>
<p>Asynchronous programming means starting an operation without waiting
around for its results. Contrast this with standard (synchronous) R
programming, where the caller of a function must wait for the function
to either return a result or throw an error.</p>
<p>Asynchronous programming is a particularly important capability for
languages that are both 1) single threaded, and 2) need to serve
multiple users concurrently. R is single threaded, but until recent
years has mostly been restricted to desktop use or batch execution. The
rise of Shiny and other web frameworks for R has meant much greater
demand for serving multiple users concurrently, and thus a greater need
for asynchronous programming.</p>
<div class="section level2">
<h2 id="what-are-promises-good-for">What are promises good for?<a class="anchor" aria-label="anchor" href="#what-are-promises-good-for"></a>
</h2>
<p>Promises work well when you have a Shiny application with a
particular operation, especially a calculation, that takes a long time
(measured in seconds or even minutes). Without promises, such operations
not only block the current user’s session from proceeding, but also
block <em>all</em> other requests being made to the R process, no matter
how trivial. Even loading a small CSS file, which should be nearly
instantaneous, can be delayed by many seconds if another user’s Shiny
session is busy crunching through hundreds of gigabytes of data or
querying a particularly slow backend database.</p>
<p>With promises, you can convert long-running operations to be
asynchronous, which frees up the R process to do other work. For Shiny
applications, this has the potential to greatly increase scalability for
each R process (depending on how slow the operations are in the first
place, and what resources they make use of).</p>
<p><strong>DO use promises if you have a Shiny app with long-running
operations, and want to serve multiple users
simultaneously.</strong></p>
</div>
<div class="section level2">
<h2 id="what-arent-promises-good-for">What <em>aren’t</em> promises good for?<a class="anchor" aria-label="anchor" href="#what-arent-promises-good-for"></a>
</h2>
<p>While promises can make a huge difference in the scalability of a
Shiny app, they make relatively little difference in the latency of a
single session. That is to say, if a Shiny application is slow when only
a single user is hitting it, converting it to use promises is unlikely
to make it perform any faster (and in fact may slightly slow it down).
Promises will just help prevent <em>other</em> sessions from being
slowed down by one session’s computations.</p>
<p>(The exception to this is if the Shiny app has several distinct long
computations that don’t depend very much on each other—then you could
use asynchronous programming to exploit a little parallelism. But I
think this will be a less common use of async programming, as R already
has other good tools designed specifically for data parallelism.)</p>
<p><strong>DON’T use promises to improve the performance of Shiny apps
for a single user.</strong></p>
<div style="font-size: 20px; margin-top: 40px; text-align: right;">
<p>Next: <a href="promises_02_intro.html">An informal intro to async
programming</a></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by Joe Cheng, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer>
</body>
</html>
